<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet"
          href="http://cdn.datatables.net/1.10.0/css/jquery.dataTables.css">
    <link rel="stylesheet"
          href="css/bootstrap.min.css">
    <title></title>
    <style type="text/css">
        #user_complaints {
            max-width: 500px;
        }

        td {
            text-align: center;
        }

        .active-glyph {
            color: #09ff00;
        }
    </style>
</head>
<body>
<table id="user_complaints" class="display" cellspacing="0" width="100%">
    <thead>
    <tr>
        <th>Date</th>
        <th>Title</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>2014-30-12</td>
        <td>Title of</td>
        <td><span class="glyphicon glyphicon-play"></span></td>
    </tr>
    </tbody>
</table>


<script src="js/jquery-1.10.2.js"></script>
<script src="//cdn.datatables.net/1.10.0/js/jquery.dataTables.min.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        a = $('#user_complaints').dataTable({
            "paging": false,
            "info": false,
            "searching": false,
            "aoColumnDefs": [
                {"sWidth": "20%", "aTargets": [ 0 ] },
                {"sWidth": "10%", "aTargets": [2], "bSortable": false }
            ],
            "ajax": "/cgi-bin/complaint.py?c=user_id&v=1",
            "columns": [
                {"data": "time"},
                {"data": "title"},
                {"data": null,
                    "defaultContent": "<span class=\"glyphicon glyphicon-play\"></span>" }
            ]
        });
        console.debug(a);
        $('.glyphicon').click(function() {
            var glyph = $(this);

            if(glyph.hasClass('active-glyph')) {
                glyph.removeClass('active-glyph');
            } else {
                glyph.addClass('active-glyph');
            }
        });
//        $.getJSON('/cgi-bin/complaint.py?c=user_id&v=1', function(result) {
//            alert(result)
//        });

    });
</script>
</body>
</html>